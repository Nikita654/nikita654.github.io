(function(e){function t(t){for(var n,c,s=t[0],u=t[1],i=t[2],d=0,p=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&p.push(o[c][0]),o[c]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);l&&l(t);while(p.length)p.shift()();return a.push.apply(a,i||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,s=1;s<r.length;s++){var u=r[s];0!==o[u]&&(n=!1)}n&&(a.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},o={app:0},a=[];function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var l=u;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"1d50":function(e,t,r){},"2a4a":function(e,t,r){"use strict";r("8bf5")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),o=r("b640"),a=r.n(o),c=Object(n["createVNode"])("img",{class:"logo",alt:"Vue logo",src:a.a},null,-1);function s(e,t,r,o,a,s){var u=Object(n["resolveComponent"])("router-view");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[c,Object(n["createVNode"])(u)],64)}var u={name:"App"};r("ebac");u.render=s;var i=u,l=r("bc3a"),d=r.n(l),p=r("2106"),h=r.n(p),b=r("6c02"),f=(r("b0c0"),{class:"hello"}),m=Object(n["createVNode"])("h1",null,"Система работы с текстом",-1),g=Object(n["createVNode"])("h3",null,"Почта пользователя",-1),j={class:"group"},O=Object(n["createVNode"])("span",{class:"highlight"},null,-1),v=Object(n["createVNode"])("span",{class:"bar"},null,-1),k=Object(n["createVNode"])("label",null,"Почта",-1),N=Object(n["createVNode"])("h3",null,"Пароль пользователя",-1),V={class:"group"},w=Object(n["createVNode"])("span",{class:"highlight"},null,-1),x=Object(n["createVNode"])("span",{class:"bar"},null,-1),y=Object(n["createVNode"])("label",null,"Пароль",-1),_=Object(n["createVNode"])("h3",null,"Еще не зарегистрированы?",-1),T=Object(n["createVNode"])("button",{class:"btn_reg"}," Зарегистрироваться ",-1);function $(e,t,r,o,a,c){var s=Object(n["resolveComponent"])("router-link");return Object(n["openBlock"])(),Object(n["createBlock"])("div",f,[m,g,Object(n["createVNode"])("div",j,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.name=e}),type:"text",required:""},null,512),[[n["vModelText"],a.name]]),O,v,k]),N,Object(n["createVNode"])("div",V,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.password=e}),type:"password",required:""},null,512),[[n["vModelText"],a.password]]),w,x,y]),Object(n["createVNode"])("button",{onClick:t[3]||(t[3]=function(e){return c.login(a.name,a.password)})}," Войти "),_,Object(n["createVNode"])(s,{to:"/signup"},{default:Object(n["withCtx"])((function(){return[T]})),_:1})])}var R=r("1da1"),S=(r("96cf"),r("5530")),I=r("d4ec"),U=r("bee2"),q=(r("d3b7"),function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(I["a"])(this,e),this.client=r.client||d.a.create(),this.token=r.token,this.refreshToken=r.refreshToken,this.refreshRequest=null,this.client.interceptors.request.use((function(e){if(!t.token)return e;var r=Object(S["a"])({headers:{}},e);return r.headers.Authorization="Bearer ".concat(t.token),r}),(function(e){return Promise.reject(e)})),this.client.interceptors.response.use((function(e){return e}),function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(r){var n,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.refreshToken&&401===r.response.status&&!r.config.retry){e.next=2;break}throw r;case 2:return t.refreshRequest||(t.refreshRequest=t.client.post("http://localhost:3000/auth/refresh",{refreshToken:t.refreshToken})),e.next=5,t.refreshRequest;case 5:return n=e.sent,o=n.data,t.token=o.token,t.refreshToken=o.refreshToken,localStorage.setItem("token",o.token),localStorage.setItem("Rtoken",o.refreshToken),a=Object(S["a"])(Object(S["a"])({},r.config),{},{retry:!0}),e.abrupt("return",t.client(a));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}return Object(U["a"])(e,[{key:"login",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){var r,n,o,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.name,n=t.password,o=r,e.prev=2,e.next=5,this.client.post("https://926c-91-244-168-17.ngrok.io/api/User/login",{email:o,password:n});case 5:return a=e.sent,c=a.data,localStorage.setItem("token",c.token),localStorage.setItem("Rtoken",c.refreshToken),this.token=c.token,this.refreshToken=c.refreshToken,e.abrupt("return",c);case 14:return e.prev=14,e.t0=e["catch"](2),e.abrupt("return",{msg:"Error"});case 17:case"end":return e.stop()}}),e,this,[[2,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"textGet",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.text,e.prev=1,e.next=4,this.client.post("https://926c-91-244-168-17.ngrok.io/api/Classify?text=".concat(r));case 4:return n=e.sent,o=n.data,console.log(o),e.abrupt("return",o);case 10:return e.prev=10,e.t0=e["catch"](1),e.abrupt("return",{msg:"Error"});case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"logout",value:function(){this.token=null,this.refreshToken=null,localStorage.setItem("token",""),localStorage.setItem("Rtoken","")}},{key:"signup",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){var r,n,o,a,c,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.name,n=t.password,o=t.email,a=t.userN,c=r,e.prev=2,e.next=5,this.client.post("https://926c-91-244-168-17.ngrok.io/api/User/registration",{displayName:c,password:n,email:o,userName:a});case 5:return s=e.sent,u=s.data,console.log(u),localStorage.setItem("token",u.token),localStorage.setItem("Rtoken",u.refreshToken),this.token=u.token,this.refreshToken=u.refreshToken,e.abrupt("return",u);case 15:return e.prev=15,e.t0=e["catch"](2),e.abrupt("return",{msg:"Сущесвует"});case 18:case"end":return e.stop()}}),e,this,[[2,15]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()),B=new q,M=B,C={name:"login",data:function(){return{qr_code:"",name:"",password:"",url:"",ex:!0}},computed:{auth:function(){return this.$store.getters.get_auth},curname:function(){return this.$store.getters.get_name},code:function(){return this.$store.getters.get_code}},watch:{auth:function(e){e&&this.ex&&(this.$store.commit("change_name",this.curname),this.$store.commit("change_code",this.code),this.$toast.success("Вы уже вошли в систему, прежде чем войти, выйдите из текущего пользователя"),Te.push("home"))}},methods:{login:function(e,t){var r=this;return Object(R["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,M.login({name:e,password:t});case 2:o=n.sent,o.displayName?(r.$store.commit("change_auth",!0),r.$toast.success("Поздравляем, вы успешно вошли в систему под своим именем и паролем."),Te.push("home")):r.$toast.error("К сожалению, пароль или имя пользователя не являются правильными, попробуйте снова.");case 4:case"end":return n.stop()}}),n)})))()}}};r("2a4a");C.render=$;var D=C,P=Object(n["withScopeId"])("data-v-15f2df0e");Object(n["pushScopeId"])("data-v-15f2df0e");var E={class:"hello"},A=Object(n["createVNode"])("h1",null,"Регистрация ",-1),G=Object(n["createVNode"])("h3",null,"Логин пользователя",-1),J={class:"group"},z=Object(n["createVNode"])("span",{class:"highlight"},null,-1),F=Object(n["createVNode"])("span",{class:"bar"},null,-1),L=Object(n["createVNode"])("label",null,"Логин",-1),H=Object(n["createVNode"])("h3",null,"Имя пользователя",-1),K={class:"group"},Q=Object(n["createVNode"])("span",{class:"highlight"},null,-1),W=Object(n["createVNode"])("span",{class:"bar"},null,-1),X=Object(n["createVNode"])("label",null,"Имя",-1),Y=Object(n["createVNode"])("h3",null,"Email пользователя",-1),Z={class:"group"},ee=Object(n["createVNode"])("span",{class:"highlight"},null,-1),te=Object(n["createVNode"])("span",{class:"bar"},null,-1),re=Object(n["createVNode"])("label",null,"Почта",-1),ne=Object(n["createVNode"])("h3",null,"Пароль пользователя",-1),oe={class:"group"},ae=Object(n["createVNode"])("span",{class:"highlight"},null,-1),ce=Object(n["createVNode"])("span",{class:"bar"},null,-1),se=Object(n["createVNode"])("label",null,"Пароль",-1),ue=Object(n["createVNode"])("h3",null,"Уже зарегистрированы?",-1),ie=Object(n["createVNode"])("button",null," Войти ",-1);Object(n["popScopeId"])();var le=P((function(e,t,r,o,a,c){var s=Object(n["resolveComponent"])("router-link");return Object(n["openBlock"])(),Object(n["createBlock"])("div",E,[A,G,Object(n["createVNode"])("div",J,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.name=e}),type:"text",required:""},null,512),[[n["vModelText"],a.name]]),z,F,L]),H,Object(n["createVNode"])("div",K,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.userN=e}),type:"text",required:""},null,512),[[n["vModelText"],a.userN]]),Q,W,X]),Y,Object(n["createVNode"])("div",Z,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.email=e}),type:"text",inputmode:"email",required:""},null,512),[[n["vModelText"],a.email]]),ee,te,re]),ne,Object(n["createVNode"])("div",oe,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.password=e}),type:"password",required:""},null,512),[[n["vModelText"],a.password]]),ae,ce,se]),Object(n["createVNode"])("button",{class:"btn_reg",onClick:t[5]||(t[5]=function(e){return c.signup(a.name,a.password,a.email,a.userN)})}," Отправить "),ue,Object(n["createVNode"])(s,{to:"/"},{default:P((function(){return[ie]})),_:1})])})),de={name:"signup",data:function(){return{name:"",password:"",email:"",userN:""}},computed:{auth:function(){return this.$store.getters.get_auth},curname:function(){return this.$store.getters.get_name},code:function(){return this.$store.getters.get_code}},watch:{auth:function(e){e&&(this.$store.commit("change_name",this.curname),this.$store.commit("change_code",this.code),this.$toast.success("Вы уже вошли в систему, прежде чем войти, выйдите из текущего пользователя"),Te.push("home"))}},methods:{signup:function(e,t,r,n){var o=this;return Object(R["a"])(regeneratorRuntime.mark((function a(){var c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!(t.length<6)){a.next=4;break}o.$toast.error("Пароль должен быть не менее 6 символов"),a.next=8;break;case 4:return a.next=6,M.signup({name:e,password:t,email:r,userN:n});case 6:c=a.sent,"Успешно"==c.msg?(o.$toast.success("Поздравляем, вы успешно зарегистрировались,осталось только войти в систему под своим именем и паролем."),Te.push("/")):o.$toast.error("Попробуйте снова, кажется вы уже зарегистрированы или такой пользователь существует");case 8:case"end":return a.stop()}}),a)})))()}}};de.render=le,de.__scopeId="data-v-15f2df0e";var pe=de,he=Object(n["withScopeId"])("data-v-5d3bee20");Object(n["pushScopeId"])("data-v-5d3bee20");var be={key:0,class:"hello"},fe=Object(n["createVNode"])("h1",null,"Ваш личный кабинет для тестирования",-1),me=Object(n["createVNode"])("h3",null,"Добро пожаловать в ваш кабинет, здесь вы можете протестировать наше приложение ",-1),ge=Object(n["createVNode"])("h3",null,"Приносим свои извинения, но файл загрузить в данный момент нельзя ",-1),je=Object(n["createVNode"])("button",{disabled:""}," Загрузить аудио или видео ",-1),Oe=Object(n["createVNode"])("h3",null,"Отправить текст для тестирования конспекта и тематики текста ",-1),ve=Object(n["createVNode"])("h3",null,"Хотите выйти?",-1),ke={key:1},Ne=Object(n["createVNode"])("button",null," Войти в систему ",-1);Object(n["popScopeId"])();var Ve=he((function(e,t,r,o,a,c){var s=Object(n["resolveComponent"])("router-link");return c.auth?(Object(n["openBlock"])(),Object(n["createBlock"])("div",be,[fe,me,ge,je,Oe,Object(n["withDirectives"])(Object(n["createVNode"])("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.textEx=e}),name:"",id:"",cols:"30",rows:"10"},null,512),[[n["vModelText"],a.textEx]]),Object(n["createVNode"])("button",{onClick:t[2]||(t[2]=function(e){return c.sendText(a.textEx)})},Object(n["toDisplayString"])(a.buttonUpload),1),Object(n["createVNode"])("p",null,"Тематика текста:"+Object(n["toDisplayString"])(a.typeText),1),Object(n["createVNode"])("p",null,"Конспект текста:"+Object(n["toDisplayString"])(a.sumText),1),ve,Object(n["createVNode"])("button",{onClick:t[3]||(t[3]=function(e){return c.logout()})}," Выйти ")])):(Object(n["openBlock"])(),Object(n["createBlock"])("div",ke,[Object(n["createVNode"])(s,{to:"/"},{default:he((function(){return[Ne]})),_:1})]))})),we={name:"home",data:function(){return{buttonUpload:"Загрузить текст",textEx:"",typeText:"",sumText:"",ex:!0}},watch:{auth:function(e){!e&&this.ex&&(Te.push("/"),this.$toast.error("К сожалению, вы еще не вошли в аккаунт."))}},computed:{auth:function(){return this.$store.getters.get_auth},name:function(){return this.$store.getters.get_name},code:function(){return this.$store.getters.get_code}},methods:{sendText:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.buttonUpload="Загрузка...",r.next=3,M.textGet({text:e});case 3:n=r.sent,n&&(t.typeText=n.desc,t.sumText=n.consp),t.buttonUpload="Загрузить текст";case 6:case"end":return r.stop()}}),r)})))()},logout:function(){this.ex=!1,this.$store.commit("change_auth",!1),M.logout(),this.$toast.success("Поздравляем,вы успешно покинули аккаунт"),Te.push("/")}}};we.render=Ve,we.__scopeId="data-v-5d3bee20";var xe=we,ye=[{path:"/",name:"Login",component:D},{path:"/home",name:"home",props:!0,component:xe},{path:"/signup",name:"signup",component:pe}],_e=Object(b["a"])({history:Object(b["b"])(),routes:ye}),Te=_e,$e=r("5502"),Re=Object($e["a"])({state:{auth:!1,name:"",code:""},getters:{get_auth:function(e){return e.auth},get_name:function(e){return e.name},get_code:function(e){return e.code}},mutations:{change_auth:function(e,t){e.auth=t},change_name:function(e,t){e.name=t},change_code:function(e,t){e.code=t}},actions:{}});console.log(Re._mutations.change_auth[0]),console.log(Re.state.auth),setTimeout((function(){console.log(Re.state.auth)}),1e3);var Se=Re,Ie=r("d39c"),Ue=r.n(Ie),qe=(r("5aea"),r("af56"));Object(n["createApp"])(i).use(Ue.a).use(Te).use(qe["a"]).use(Se).use(h.a,d.a).mount("#app")},"5aea":function(e,t,r){},"8bf5":function(e,t,r){},b640:function(e,t,r){e.exports=r.p+"img/logo.ee736822.jpg"},ebac:function(e,t,r){"use strict";r("1d50")}});
//# sourceMappingURL=app.c8826670.js.map